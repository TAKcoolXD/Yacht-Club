<template>
    <view class="goImagedetailtwo">
		<!-- è‡ªå®šä¹‰å¯¼èˆª -->
        <uv-navbar :fixed="false" :safeAreaInsetTop="true" leftIconSize="0rpx" title="æ¸¸è‰‡ä¿±ä¹éƒ¨">
			<template v-slot:center>
				<view>{{title}}</view>
			</template>
			<template v-slot:left>
				<image src="/static/è¿”å›.png" mode="" style="width: 40rpx;height: 40rpx;" @click="back"></image>
			</template>
		</uv-navbar>
		<view class="floorImage" :style="{ 'background-image': 'url(' + floorImage + ')' }">
			<!-- æ´»åŠ¨è§„åˆ™å®šä½å³è¾¹ -->
			<view class="activeRule" @click="open">
				<view>æ´»</view>
				<view>åŠ¨</view>
				<view>è§„</view>
				<view>åˆ™</view>
			</view>
			<!--å¼¹å‡ºæ¡†æ´»åŠ¨è§„åˆ™  -->
			<view>
				<uv-popup ref="popup" @change="change" :close-on-click-overlay="true">

					<view style="position: relative; height: 400rpx;overflow: auto;">
						<image src="/static/å…³é—­.png" mode="scaleToFill"
							style="width: 50rpx;height: 50rpx;position: absolute;right: 10rpx;" @click="close" />
						<view class="title"
							style="width: 160rpx;border: 1px solid red;margin: 0 auto;font-size: 40rpx;font-weight: bold;">
							æ´»åŠ¨è§„åˆ™
						</view>

						<view v-for="item in 11" style="width: 690rpx; margin: 0 auto;padding: 10rpx;">
							1:å‚ä¸æ–¹å¼:æ´»åŠ¨æœŸé—´ï¼Œç”¨æˆ·è¿›å…¥ç™¾å²›æ¸¸æ´»åŠ¨ä¸»é¡µé¢å¯ç›´æ¥é¢†å–ä¼˜æƒ </view>
					</view>
				</uv-popup>
			</view>
		</view>
		<view style="width: 100%; height: 2000rpx;background-color: #c0b49a;">
			<view
				style="width: 110rpx;height: 70rpx; margin:auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				æ¸¸è‰‡
			</view>
			<!--æ¸¸è‰‡å¥—é¤å±•ç¤º -->
			<view class="Combolist" style="width: 100%;height: 430rpx;">
				<view v-for="item in yacht" :key="item.id"
					style="position: relative; display: flex;width: 680rpx;height: 200rpx;margin:15rpx auto;background-color: white;border-radius: 10rpx;">
					<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill"
						style="width: 200rpx;height: 180rpx;margin: 10rpx;" />
					<view>
						<view style="font-weight: bold;font-size: 34rpx;">{{ item.name }}</view>
						<view style="font-size: 20rpx;">{{ item.describe }}</view>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<view style="font-size: 25rpx;font-weight: bold;color: red;margin-top: 10rpx;">ï¿¥{{ item.price }}
						</view>
					</view>
					<view
						style="position: absolute;bottom: 20rpx;right: 10rpx;background-color: #fe5633;color: white;border-radius: 30rpx;padding: 15rpx;">
						æŠ¢è´­</view>
				</view>

			</view>
			<!-- åˆ«å¢… -->
			<view
				style="width: 110rpx;height: 70rpx; margin:auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				åˆ«å¢…
			</view>
			<!--åˆ«å¢…å¥—é¤å±•ç¤º -->
			<view class="Combolist" style="width: 100%;height: 430rpx;">
				<view v-for="item in villa" :key="item.id"
					style="position: relative; display: flex;width: 680rpx;height: 200rpx;margin:15rpx auto;background-color: white;border-radius: 10rpx;">
					<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill"
						style="width: 200rpx;height: 180rpx;margin: 10rpx;" />
					<view>
						<view style="font-weight: bold;font-size: 34rpx;">{{ item.name }}</view>
						<view style="font-size: 20rpx;">{{ item.describe }}</view>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<view style="font-size: 25rpx;font-weight: bold;color: red;margin-top: 10rpx;">ï¿¥{{ item.price }}
						</view>
					</view>
					<view
						style="position: absolute;bottom: 20rpx;right: 10rpx;background-color: #fe5633;color: white;border-radius: 30rpx;padding: 15rpx;">
						æŠ¢è´­</view>
				</view>

			</view>

			<!-- é’“é±¼è‰‡ -->
			<view style="width: 160rpx;height: 70rpx; margin:auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				é’“é±¼è‰‡
			</view>
			<!--é’“é±¼è‰‡å¥—é¤å±•ç¤º -->
			<view class="Combolist" style="width: 100%;height: 430rpx;">
				<view v-for="item in villa" :key="item.id"
					style="position: relative; display: flex;width: 680rpx;height: 200rpx;margin:15rpx auto;background-color: white;border-radius: 10rpx;">
					<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill"
						style="width: 200rpx;height: 180rpx;margin: 10rpx;" />
					<view>
						<view style="font-weight: bold;font-size: 34rpx;">{{ item.name }}</view>
						<view style="font-size: 20rpx;">{{ item.describe }}</view>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<view style="font-size: 25rpx;font-weight: bold;color: red;margin-top: 10rpx;">ï¿¥{{ item.price }}
						</view>
					</view>
					<view
						style="position: absolute;bottom: 20rpx;right: 10rpx;background-color: #fe5633;color: white;border-radius: 30rpx;padding: 15rpx;">
						æŠ¢è´­</view>
				</view>

			</view>

			<!--é¡¶é…é›†å›¢å€¾åŠ›æ‰“é€ èƒŒæ™¯å›¾  -->
			<view class="DPGroup" style=" display: flex;justify-content: center; width: 750rpx;height: 544px;background-repeat: no-repeat;background-size: 375px 550px;background-position: center;position: relative;border: 0.1rpx solid white;"  :style="{ 'background-image': 'url(' + DPGroupImg + ')' }">
				<video :src="DPVideo"  style="margin-top: 115rpx; width: 680rpx;height: 400rpx;border-radius: 20rpx;"/>
			</view>

		</view>
    </view>
 </template>
 
 <script>
import { getActivitiesThree } from '@/api/index'
 export default {
     data() {
         return {
			floorImage: '',//åº•éƒ¨èƒŒæ™¯å›¾
           	title:'',
			DPGroupImg: '',//é¼é…é›†å›¢èƒŒæ™¯å›¾
			DPVideo:'',//é¼é…é›†å›¢ä»‹ç»è§†é¢‘
			yacht:[],//æ¸¸è‰‡æ•°æ®
			villa:[],//åˆ«å¢…æ•°æ®
			fishingVessel:[],//é’“é±¼è‰‡æ•°æ®

         }
     },
     methods:{
        back() {
			uni.navigateBack({
				delta: 1
			})
		},
		open() {
			this.$refs.popup.open('bottom');
		},
		change(e) {
			console.log('å¼¹çª—çŠ¶æ€æ”¹å˜ï¼š', e);
		},
		close() {
			this.$refs.popup.close();
		},
		getActivitiesData(){
			getActivitiesThree().then(res => {
				console.log("ğŸš€ ~ getActivitiesTwo ~ res é¦–é¡µè½®æ’­å›¾3:", res)
				if(res.code==1){
					this.floorImage='https://dpyt.cjpco.cn/' + res.data.activity.picture
					this.DPGroupImg='https://dpyt.cjpco.cn/' + res.data.activity.picture1
					this.DPVideo='https://dpyt.cjpco.cn/' + res.data.activity.video
					console.log("é¼é…é›†å›¢èƒŒæ™¯å›¾", this.DPGroupImg)
					console.log("åº•éƒ¨èƒŒæ™¯å›¾", this.floorImage)
					console.log("é¼é…é›†å›¢video", this.DPVideo)
					
					this.yacht=res.data.product_type[0].product
					console.log("æ¸¸è‰‡çš„æ•°æ®", this.yacht)

					this.villa=res.data.product_type[1].product
					console.log("åˆ«å¢…çš„æ•°æ®", this.villa)

					this.fishingVessel=res.data.product_type[3].product
					console.log("é’“æ¸”èˆ¹çš„æ•°æ®", this.fishingVessel)


				}
				
			})
		}
     },
     onLoad(e) {
		//ç”¨æˆ·åœ¨é¦–é¡µç‚¹å‡»è½®æ’­ ä¼ å…¥è¿‡æ¥çš„item ä»è¿™è¾¹æ¥æ”¶
		console.log("ğŸš€ ~ onLoad ~ e:", e)
		let newObj = JSON.parse(decodeURIComponent(e.obj)) //decodeURIComponent å‰é¢ç”¨äº†${encodeURIComponent(obj)} éœ€è¦è½¬æ¢ä¸€æ¬¡
		// let newObj=JSON.parse(options.obj)
		console.log('è½¬åŒ–åçš„newObj', newObj);
		this.title=newObj.title
		// this.floorImage = 'https://dpyt.cjpco.cn/' + newObj.picurl
		// console.log("ğŸš€ ~ onLoad ~  this.floorImage:", this.floorImage)
		this.getActivitiesData()

	},
     
 }
 </script>
 
 <style lang="scss">
.floorImage {
	width: 750rpx;
    height: 623rpx;
    background-repeat: no-repeat;
    background-size: 750rpx 623rpx;
    background-position: center;
    position: relative;
    border: 0.1rpx solid;

	.activeRule {
		width: 75rpx;
		height: 143rpx;
		background-color: #f9d492;
		position: absolute;
		top: 150rpx;
		right: 0rpx;
		border-radius: 10px 0 0 10px;
		font-size: 32rpx;
		text-align: center;
		color: white;
		line-height: 37rpx;
		list-style: none;

	}

}
 </style>