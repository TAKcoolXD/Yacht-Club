<template>
	<view class="goImagedetail">
		<!-- å¯¼èˆªæ  -->
		<uv-navbar :fixed="false" :safeAreaInsetTop="true" leftIconSize="0rpx" title="æ¸¸è‰‡ä¿±ä¹éƒ¨">
			<template v-slot:center>
				<view>{{ title }}</view>
			</template>
			<template v-slot:left>
				<image src="/static/è¿”å›.png" mode="" style="width: 40rpx;height: 40rpx;" @click="back"></image>
			</template>
		</uv-navbar>
		<!-- é¦–é¡µç‚¹å‡»ä¼ è¿‡æ¥çš„è½®æ’­å›¾ -->
		<view class="floorImage" :style="{ 'background-image': 'url(' + floorImage + ')' }">
			<!-- æ´»åŠ¨è§„åˆ™ å®šä½ -->
			<view class="activeRule" @click="open">
				<view>æ´»</view>
				<view>åŠ¨</view>
				<view>è§„</view>
				<view>åˆ™</view>
			</view>
			<!-- é¢†å·éƒ¨åˆ† -->
			<view class="claimCoupon">
				<!-- é¢†å·1 -->
				<view class="projectAboard1">
					<!-- éšèˆ¹ -->
					<view class="projectAboard"
						style="display: flex; align-items: center;justify-content: space-around;">
						<view class="left">
							<view class="top">ï¿¥{{ ShipboardProject.money }}</view>
							<view class="bottom" style="color: white;">{{ ShipboardProject.name }}</view>
						</view>
						<view class="right"
							style="background-color: #717171;;width: 100rpx;height: 50rpx;border-radius: 20rpx;text-align: center;line-height: 50rpx;">
							å·²é¢†å–
						</view>
					</view>
					<!-- å‡ºæµ· -->
					<view class="setSail" style="display:flex ; align-items: center;">
						<view class="left" style="width: 65px;height: 52px;">
							<view class="top" style="color: #fbfe73;
							font-size: 38rpx;">ï¿¥{{ OffshoreProject.money }}</view>
							<view class="bottom" style="	font-size: 20rpx;
							text-align: center;color: white;">{{ OffshoreProject.name }}</view>
						</view>
						<view class="right"
							style="background-color: #717171;;width: 100rpx;height: 50rpx;border-radius: 20rpx;text-align: center;line-height: 50rpx;">
							å·²é¢†å–
						</view>
						<view class="right"
							style="background-color: #717171;;width: 100rpx;height: 50rpx;border-radius: 20rpx;text-align: center;line-height: 50rpx;">
							å·²é¢†å–
						</view>
					</view>
				</view>
				<!-- é¢†å·2 å…¶ä»–é¡¹ç›®-->
				<view class="projectAboard2" style="display: flex;align-items: center;justify-content: space-around;">
					<view class="left"
						style="width: 300rpx;height: 120rpx;display: flex;flex-direction: column;align-items: center;justify-content: center;">
						<view style="color: #fbfe73;
							font-size: 38rpx;">ï¿¥{{ otherProject.money }}</view>
						<view style="color: white;">{{ otherProject.name }}</view>
					</view>
					<view class="left"
						style="width: 300rpx;height: 120rpx;display: flex;align-items: center;justify-content: center;">
						<view style="background-color: #717171;;width: 100rpx;height: 50rpx;">å·²é¢†å–</view>
					</view>
				</view>
				<!-- æµ·å²›ä»‹ç»-->
				<view class="projectAboard3">
					<image :src="`https://dpyt.cjpco.cn/${picture1}`" mode="scaleToFill" style="width: 100%;
				height: 120rpx;" />
				</view>
			</view>

		</view>
		<!-- çƒ­é”€ç™¾å²›å¥—é¤æ–‡å­— -->
		<view style="background-color:#078ca3;">
			<view
				style="width: 300rpx;height: 70rpx; margin:auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				çƒ­é”€ç™¾å²›å¥—é¤
			</view>
			<!--ç™¾å²›å¥—é¤å¥—é¤å±•ç¤º -->
			<view class="Combolist" style="width: 100%;height: 680rpx;">
				<view v-for="item in PopularIslands" :key="item.id"
					style="position: relative; display: flex;width: 680rpx;height: 200rpx;margin:15rpx auto;background-color: white;border-radius: 10rpx;">
					<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill"
						style="width: 200rpx;height: 180rpx;margin: 10rpx;" />
					<view>
						<view style="font-weight: bold;font-size: 34rpx;">{{ item.name }}</view>
						<view style="font-size: 20rpx;">{{ item.describe }}</view>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<view style="font-size: 25rpx;font-weight: bold;color: red;margin-top: 10rpx;">ï¿¥{{ item.price }}
						</view>
					</view>
					<view
						style="position: absolute;bottom: 20rpx;right: 10rpx;background-color: #fe5633;color: white;border-radius: 30rpx;padding: 15rpx;">
						æŠ¢è´­</view>
				</view>

			</view>
			<!-- ç¯å²›å¥—é¤æ–‡å­— -->
			<view
				style="width: 200rpx;height: 70rpx;margin: 0 auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				ç¯å²›å¥—é¤
			</view>
			<!--ç¯å²›å¥—é¤å¥—é¤å±•ç¤º -->
			<view class="Combolist" style="width: 100%;height: 680rpx;">
				<view v-for="item in IslandLoop" :key="item.id"
					style="position: relative; display: flex;width: 680rpx;height: 200rpx;margin:15rpx auto;background-color: white;border-radius: 10rpx;">
					<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill"
						style="width: 200rpx;height: 180rpx;margin: 10rpx;" />
					<view>
						<view style="font-weight: bold;font-size: 34rpx;">{{ item.name }}</view>
						<view style="font-size: 20rpx;">{{ item.describe }}</view>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<view style="font-size: 25rpx;font-weight: bold;color: red;margin-top: 10rpx;">ï¿¥{{ item.price }}
						</view>
					</view>
					<view
						style="position: absolute;bottom: 20rpx;right: 10rpx;background-color: #fe5633;color: white;border-radius: 30rpx;padding: 15rpx;">
						æŠ¢è´­</view>
				</view>

			</view>
			<!-- ç‰¹ä»·ç§’æ€æ–‡å­— -->
			<view
				style="width: 150rpx;height: 70rpx;margin: 0 auto;padding: 25rpx; font-size: 35rpx;color: white;font-weight: bold;">
				ç‰¹ä»·ç§’æ€
			</view>
			<!-- ä¸¤ä¸ªç›’å­ ç‰¹ä»·ç§’æ€ çˆ†æ¬¾æŠ¢è´­ -->
			<view class="specialBox"
				style="width: 530rpx;height: 70rpx;margin: 0 auto;margin-bottom: 20rpx;display: flex;justify-content: space-between;align-items: center;">
				<view class="hotSelling"
					style="border: 1px solid #a98b72;border-radius: 15rpx;padding: 5rpx;color: #ebdc9d;">
					çˆ†æ¬¾æŠ¢è´­</view>
				<view class="special"
					style="border: 1px solid #a98b72;border-radius: 15rpx;padding: 5rpx;color: #ebdc9d;">ç‰¹ä»·ç§’æ€
				</view>
			</view>
			<view class="Speciallist"
				style="position: relative;;width: 680rpx;height: 200rpx;margin: 0 auto;background-color: white;border-radius: 20rpx;display: flex;align-items: center;">
				<image :src="`https://dpyt.cjpco.cn/${FlashSale.product_img}`" mode="scaleToFill"
					style=" margin-left: 15rpx;width: 300rpx;height: 165rpx;" />
				<view style="margin-left: 15rpx;">
					<view style="font-weight: bold;font-size: 33rpx;">{{ FlashSale.name }}</view>
					<view
						style="font-size: 20rpx;border: 1px solid #717171;display: inline-block;padding: 5rpx;margin-bottom: 10rpx;color: #717171;">
						{{ FlashSale.describe }}</view>
					<view style="color: red;font-size: 35rpx;">{{ FlashSale.price }} <span
							style="color: red;font-size: 20rpx;">å…ƒèµ·</span>
					</view>
					<view
						style="background-color: #fe8837;display: inline-block;padding: 10rpx;border-radius: 20rpx;color: white;position: absolute;bottom:10rpx;right: 10rpx;">
						é™æ—¶æŠ¢è´­</view>
				</view>
			</view>
			<!-- å›¢å»ºå¥—é¤ -->
			<!-- å›¢å»ºå¥—é¤æ–‡å­— -->
			<view
				style="width: 200rpx;height: 70rpx;margin: 0 auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				å›¢å»ºå¥—é¤
			</view>
			<view class="specialBox"
				style="width: 140rpx;margin: 0 auto;font-size: 35rpx;font-weight: bold;color: white;margin-top: 40rpx;">
				è¶…å€¼æ¨è
			</view>
			<!-- è¶…å€¼æ¨èå¥—é¤ ä¸¤ä¸ªç›’å­-->
			<view class="greatValue"
				style="display: flex;justify-content: space-around;align-items: center; width: 730rpx;height: 200rpx;margin: 0 auto;margin-top: 30rpx;">
				<div v-for="item in Team" :key="item.id" class="greatValue1"
					style="position: relative; display: flex;flex-direction: column;width: 350rpx;height: 190rpx;background-color: white;border-radius: 20rpx;">
					<text style="font-size: 35rpx;font-weight: bold;">{{ item.city }}-->{{ item.city1 }}</text>
					<text style="font-size: 45rpx;color: #ff6709;"><span
							style="font-size: 25rpx;color: #717171;">ï¿¥</span>
						{{ item.price }}</text>
					<view
						style="position: absolute;bottom: 10rpx;right: 10rpx;background-color: #fe8837;padding: 10rpx;color: white;border-radius: 20rpx;font-weight: bold;">
						é¢„å®š</view>
				</div>

			</view>
			<view
				style="width: 300rpx;height: 70rpx; margin:auto;padding: 25rpx; font-size: 50rpx;color: white;font-weight: bold;">
				ç”Ÿæ—¥æ±‚å©šå¥—é¤
			</view>
			<!--ç”Ÿæ—¥æ±‚å©šå¥—é¤å±•ç¤º -->
			<view class="Combolist" style="width: 100%;height: 680rpx;">
				<view v-for="item in ProposalPackage" :key="item.id"
					style="position: relative; display: flex;width: 680rpx;height: 215rpx;margin:15rpx auto;background-color: white;border-radius: 10rpx;">
					<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill"
						style="width: 300rpx;height: 180rpx;margin: 10rpx;" />
					<view>
						<view style="font-weight: bold;font-size: 34rpx;">{{ item.name }}</view>
						<view style="font-size: 20rpx;">{{ item.describe
							}}</view>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<text
							style="border: 1px solid black;padding: 5rpx;margin: 5rpx 10rpx;font-size: 20rpx;">æ— è´­ç‰©</text>
						<view style="font-size: 25rpx;font-weight: bold;color: red;margin-top: 10rpx;">ï¿¥{{item.price}}</view>
					</view>
					<view
						style="position: absolute;bottom: 20rpx;right: 10rpx;background-color: #fe5633;color: white;border-radius: 30rpx;padding: 15rpx;">
						æŠ¢è´­</view>
				</view>

			</view>
		</view>
		<view>
			<uv-popup ref="popup" @change="change" :close-on-click-overlay="true">

				<view style="position: relative; height: 400rpx;overflow: auto;">
					<image src="/static/å…³é—­.png" mode="scaleToFill"
						style="width: 50rpx;height: 50rpx;position: absolute;right: 10rpx;" @click="close" />
					<view class="title"
						style="width: 160rpx;border: 1px solid red;margin: 0 auto;font-size: 40rpx;font-weight: bold;">
						æ´»åŠ¨è§„åˆ™
					</view>

					<view v-for="item in 11" style="width: 690rpx; margin: 0 auto;padding: 10rpx;">
						1:å‚ä¸æ–¹å¼:æ´»åŠ¨æœŸé—´ï¼Œç”¨æˆ·è¿›å…¥ç™¾å²›æ¸¸æ´»åŠ¨ä¸»é¡µé¢å¯ç›´æ¥é¢†å–ä¼˜æƒ </view>


				</view>
			</uv-popup>

		</view>

	</view>
</template>

<script>
import { getActivitiesOne } from '@/api/index'
export default {
	data() {
		return {
			floorImage: '',
			title: '',
			ShipboardProject: '',//éšèˆ¹é¡¹ç›®
			OffshoreProject: '',//å‡ºæµ·é¡¹ç›®
			otherProject: '',//å…¶ä»–é¡¹ç›®
			picture1: '',//æµ·å²›ä»‹ç»
			PopularIslands: [],//çƒ­é”€ç™¾å²›
			IslandLoop: [],//ç¯å²›
			FlashSale: {},//ç‰¹ä»·ç§’æ€
			Team: [],//å›¢å»ºè¶…å€¼æ¨è
			ProposalPackage: [],//æ±‚å©šå¥—é¤
		}
	},
	methods: {
		back() {
			uni.navigateBack({
				delta: 1
			})
		},
		open() {
			this.$refs.popup.open('bottom');
		},
		change(e) {
			console.log('å¼¹çª—çŠ¶æ€æ”¹å˜ï¼š', e);
		},
		close() {
			this.$refs.popup.close();
		},
		getActivitiesData() {
			getActivitiesOne().then(res => {
				console.log('æ´»åŠ¨ä¸€çš„æ•°æ®', res);
				if (res.code == 1) {
					this.otherProject = res.data.accepTadd[0]
					console.log("this.otherProjectå…¶ä»–é¡¹ç›®:", this.otherProject)
					this.ShipboardProject = res.data.accepTaddress[0]
					console.log("ğŸš€ ~ getActivitiesThree ~ éšèˆ¹é¡¹ç›®this.ShipboardProject:", this.ShipboardProject)
					this.OffshoreProject = res.data.accepTaddress[1]
					console.log("ğŸš€ ~ getActivitiesThree ~ å‡ºæµ·é¡¹ç›®this.OffshoreProject:", this.OffshoreProject)
					this.picture1 = res.data.activity.picture1

					this.PopularIslands = res.data.product_type[0].product
					console.log("ğŸš€ ~ getActivitiesThree ~ this.PopularIslandsçƒ­é”€ç™¾å²›:", this.PopularIslands)

					this.IslandLoop = res.data.product_type[1].product
					console.log("ğŸš€ ~ getActivitiesThree ~ this.IslandLoopç¯å²›:", this.IslandLoop)

					this.FlashSale = res.data.product_plane.product
					console.log("ğŸš€ ~ getActivitiesThree ~ this.FlashSaleç‰¹ä»·ç§’æ€:", this.FlashSale)

					this.Team = res.data.product_ticket.product
					console.log("ğŸš€ ~ getActivitiesThree ~ this.Teamå›¢å»º:", this.Team)

					this.ProposalPackage = res.data.product_activity.product
					console.log("ğŸš€ ~ getActivitiesThree ~ this.ProposalPackageæ±‚å©šå¥—é¤:", this.ProposalPackage)


				}
			})
		}
	},
	mounted() {

	},
	onLoad(e) {
		//ç”¨æˆ·åœ¨é¦–é¡µç‚¹å‡»è½®æ’­ ä¼ å…¥è¿‡æ¥çš„item ä»è¿™è¾¹æ¥æ”¶
		console.log("ğŸš€ ~ onLoad ~ e:", e)
		let newObj = JSON.parse(decodeURIComponent(e.obj)) //decodeURIComponent å‰é¢ç”¨äº†${encodeURIComponent(obj)} éœ€è¦è½¬æ¢ä¸€æ¬¡
		// let newObj=JSON.parse(options.obj)
		console.log('è½¬åŒ–åçš„newObj', newObj);
		this.title = newObj.title
		this.floorImage = 'https://dpyt.cjpco.cn/' + newObj.picurl
		console.log("ğŸš€ ~ onLoad ~  this.floorImage:", this.floorImage)
		this.getActivitiesData()


	},

	created() {

	}

}
</script>
<style lang="scss">
.goImagedetail {


	.floorImage {
		width: 750rpx;
		height: 900rpx;
		background-repeat: no-repeat;
		background-size: 750rpx 1400rpx;
		background-position: bottom;
		position: relative;
		border: 0.1rpx solid;

		.activeRule {
			width: 75rpx;
			height: 143rpx;
			background-color: #f9d492;
			position: absolute;
			top: 150rpx;
			right: 0rpx;
			border-radius: 10px 0 0 10px;
			font-size: 32rpx;
			text-align: center;
			color: white;
			line-height: 37rpx;
			list-style: none;

		}

		.claimCoupon {
			width: 700rpx;
			height: 450rpx;
			// border: 1px solid red;
			margin: 478rpx auto;

			.projectAboard1 {
				width: 100%;
				height: 130rpx;
				// border: 1px solid red;
				margin: 20rpx auto;
				display: flex;
				align-items: center;
				justify-content: space-around;

				.projectAboard {
					width: 331rpx;
					height: 105rpx;
					border: 1px solid rgb(11, 10, 10);

					.left {
						.top {
							color: #fbfe73;
							font-size: 38rpx;

						}

						.bottom {
							width: 194rpx;
							font-size: 20rpx;
							text-align: center;
						}
					}

					.right {}
				}

				.setSail {
					width: 331rpx;
					height: 105rpx;
					border: 1px solid rgb(11, 10, 10);
				}
			}

			.projectAboard2 {
				width: 100%;
				height: 130rpx;
				border: 1px solid black;
				margin: 20rpx auto;
			}

			.projectAboard3 {
				width: 100%;
				height: 130rpx;
				// border: 1px solid red;
				margin: 20rpx auto;
			}

		}
	}
}
</style>