<template>
	<view class="goImagedetailthree">
		<!-- è‡ªå®šä¹‰å¯¼èˆª -->
		<uv-navbar :fixed="false" :safeAreaInsetTop="true" leftIconSize="0rpx" title="æ¸¸è‰‡ä¿±ä¹éƒ¨">
			<template v-slot:center>
				<view>{{ title }}</view>
			</template>
			<template v-slot:left>
				<image src="/static/è¿”å›.png" mode="" style="width: 40rpx;height: 40rpx;" @click="back"></image>
			</template>
		</uv-navbar>
		<view class="floorImage" :style="{ 'background-image': 'url(' + floorImage + ')' }">
			<!-- æ´»åŠ¨è§„åˆ™å®šä½å³è¾¹ -->
			<view class="activeRule" @click="open">
				<view>æ´»</view>
				<view>åŠ¨</view>
				<view>è§„</view>
				<view>åˆ™</view>
			</view>
			<!--å¼¹å‡ºæ¡†æ´»åŠ¨è§„åˆ™  -->
			<view>
				<uv-popup ref="popup" @change="change" :close-on-click-overlay="true">

					<view style="position: relative; height: 400rpx;overflow: auto;">
						<image src="/static/å…³é—­.png" mode="scaleToFill"
							style="width: 50rpx;height: 50rpx;position: absolute;right: 10rpx;" @click="close" />
						<view class="title"
							style="width: 160rpx;border: 1px solid red;margin: 0 auto;font-size: 40rpx;font-weight: bold;">
							æ´»åŠ¨è§„åˆ™
						</view>

						<view v-for="item in 11" style="width: 690rpx; margin: 0 auto;padding: 10rpx;">
							1:å‚ä¸æ–¹å¼:æ´»åŠ¨æœŸé—´ï¼Œç”¨æˆ·è¿›å…¥ç™¾å²›æ¸¸æ´»åŠ¨ä¸»é¡µé¢å¯ç›´æ¥é¢†å–ä¼˜æƒ </view>


					</view>
				</uv-popup>
			</view>

		</view>
		<view style="background-color:#0a409e;height: 3000rpx;">
			<!--å•ç¨‹ -->
			<view class="one-way" style="width:720rpx;height: 600rpx;margin: 0 auto;border-radius: 20rpx;background-color:#61d7f3 ;border: 0.01rpx solid #61d7f3;">
				<!-- å•ç¨‹å†…å®¹ -->
				<view style="width:690rpx;height: 520rpx;margin: 0 auto;margin: 70rpx auto;background-color: white;border-radius: 20rpx;border: 0.01rpx solid white;">
					<!-- å•ç¨‹ å¼€å§‹-ç»“æŸ å» -->
					<view class="time"style="width:670rpx;height: 100rpx;display: flex;justify-content: space-between;align-items: center;margin: 30rpx auto;">
						<view style="border: 3.5px solid #dfe1e2;width:90rpx;height: 50rpx;padding: 10rpx;text-align: center;">å•ç¨‹</view>
						<view style="width:200rpx;height: 70rpx;border-radius: 10rpx;background-color: #e8eaeb;text-align: center;line-height: 70rpx;">å¼€å§‹-ç»“æŸ-å»</view>
					</view>
					<!-- é¡¹ç›®å±•ç¤º è¥¿ä¿‘ æƒ…äººå²› å¤©æ–‡å° å…«å¤§æµ·æ»©-->
					<view class="showProject" style="width:670rpx;height: 360rpx;margin: 0 auto;">
						<view v-for="item in OneActivity" :key="item.id" style="width:670rpx;height: 115rpx;display: flex;justify-content: space-between;align-items: center;">
							<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill" style="width: 170rpx;height: 105rpx;"/>
							<!-- æ–‡å­—æè¿° -->
							<view style="width: 480rpx;height: 100rpx;">
								<view class="top" style="display: flex; justify-content: space-between;">
									<span style="font-size: 38rpx;font-weight: bold;">{{item.city}}-->{{item.city1}}</span>
									<span style="color: #0086f6;font-size: 38rpx;font-weight: bold;">  <span style="font-size: 25rpx;">ï¿¥</span>{{ item.price}}<span style="font-size: 25rpx;">èµ·</span>   </span>
								</view>
								<view>
									<span style="color: #9999b3;font-size: 30rpx;">{{ item.describe}}</span>
									<span style="padding: 5rpx;border: 1px solid greenyellow;color:greenyellow;margin-left: 100rpx;font-size: 20rpx;">1.5æŠ˜</span>
								</view>
							</view>
						
					
						</view>
					</view>
				</view>
			</view>
			<!-- æ¸¸è‰‡æ–‡å­— -->
			<view class="text" style="width: 150rpx;height: 70rpx;font-size: 50rpx;text-align: center;margin: 0 auto;color: white;font-weight: bold;">
					æ¸¸è‰‡
			</view>
				<!-- æ¸¸è‰‡è¯¦æƒ…å±•ç¤º -->
			<view class="yacht" style="background-color:#61d7f3;width:720rpx;height: 250rpx;margin: 20rpx auto;border-radius: 20rpx;border: 0.01rpx solid #61d7f3;">
					<view style="position: relative; background-color: white;width: 670rpx;height: 190rpx;margin: 20rpx auto;border-radius: 20rpx;display: flex;align-items: center;justify-content: space-around;">
						<!-- å›¾ç‰‡ -->
						<image
						:src="`https://dpyt.cjpco.cn/${yacht[0].product_img}`"
							mode="scaleToFill" style="width: 200rpx;height: 165rpx;border-radius: 20rpx;""
						/>
						<!-- ç½‘çº¢åŒä½“æ‹¼èˆ¹å‡ºæµ·1å°æ—¶ -->
						<view style="width: 440rpx;height: 170rpx;">
							<view style="font-weight: bold;font-size: 40rpx;">{{yacht[0].name}}</view>
							<view style="font-size: 25rpx;">{{yacht[0].describe}}</view>
							<view>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
							</view>
							<view style="color: red;">ï¿¥{{yacht[0].price}} <span style="font-size: 25rpx;">èµ·</span></view>
						</view>
						<view style="position: absolute;bottom: 20rpx;right: 30rpx;border: 1px solid red;padding: 10rpx;border-radius: 20rpx;background-color: #fe5633;color: white;">æŠ¢è´­</view>
					</view>

			</view>



			<!-- åŸºåœ°æ–‡å­— -->
			<view class="text" style="width: 150rpx;height: 70rpx;font-size: 50rpx;text-align: center;margin: 0 auto;color: white;font-weight: bold;">
				åŸºåœ°
			</view>
				<!-- åŸºåœ°è¯¦æƒ…å±•ç¤º -->
			<view class="yacht" style="background-color:#61d7f3;width:720rpx;height: 600rpx;margin: 20rpx auto;border-radius: 20rpx;border: 0.01rpx solid #61d7f3;">
					<view v-for="item in base" :key="item" style="position: relative; display: flex;align-items: center;justify-content: space-between;background-color: white;width: 670rpx;height: 175rpx;margin: 20rpx auto;border-radius: 20rpx;">
						<!-- å›¾ç‰‡ -->
						<image :src="`https://dpyt.cjpco.cn/${item.product_img}`" mode="scaleToFill" style="width: 200rpx;height: 165rpx;margin-left: 10rpx;border-radius: 20rpx;"/>
						<!-- å³è¾¹æ–‡å­—æè¿° -->
						<view style="width: 440rpx;height: 170rpx;">
							<view style="font-weight: bold;font-size: 40rpx;">{{item.name}}</view>
							<view style="font-size: 25rpx;">{{item.describe}}</view>
							<view>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
							</view>
							<view style="color: red;">ï¿¥{{item.price}} <span style="font-size: 25rpx;">èµ·</span></view>
						</view>
						<view style="position: absolute;bottom: 20rpx;right: 30rpx;border: 1px solid red;padding: 10rpx;border-radius: 20rpx;background-color: #fe5633;color: white;">æŠ¢è´­</view>
					</view>
			</view>



			<!-- ä¼´æ¸¸æ–‡å­— -->
			<view class="text" style="width: 150rpx;height: 70rpx;font-size: 50rpx;text-align: center;margin: 0 auto;color: white;font-weight: bold;">
				ä¼´æ¸¸
			</view>
				<!-- ä¼´æ¸¸è¯¦æƒ…å±•ç¤º -->
			<view class="yacht" style="background-color:#61d7f3;width:720rpx;height: 250rpx;margin: 20rpx auto;border-radius: 20rpx;border: 0.01rpx solid #61d7f3;">
				<view style="position: relative; background-color: white;width: 670rpx;height: 190rpx;margin: 20rpx auto;border-radius: 20rpx;display: flex;align-items: center;justify-content: space-around;">
					<image
					:src="`https://dpyt.cjpco.cn/${companion.product_img}`" 
							mode="scaleToFill" style="width: 200rpx;height: 165rpx;border-radius: 20rpx;""
						/>
						<!-- ç½‘çº¢åŒä½“æ‹¼èˆ¹å‡ºæµ·1å°æ—¶ -->
						<view style="width: 440rpx;height: 170rpx;">
							<view style="font-weight: bold;font-size: 40rpx;">{{companion.name
}}</view>
							<view style="font-size: 25rpx;">{{companion.describe
}}</view>
							<view>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
							</view>
							<view style="color: red;">ï¿¥{{companion.price
}} <span style="font-size: 25rpx;">èµ·</span></view>
						</view>
						<view style="position: absolute;bottom: 20rpx;right: 30rpx;border: 1px solid red;padding: 10rpx;border-radius: 20rpx;background-color: #fe5633;color: white;">æŠ¢è´­</view>
				</view>
			</view>



			<!-- æ´»åŠ¨æ–‡å­— -->
			<view class="text" style="width: 150rpx;height: 70rpx;font-size: 50rpx;text-align: center;margin: 0 auto;color: white;font-weight: bold;">
				æ´»åŠ¨
			</view>
				<!-- æ´»åŠ¨è¯¦æƒ…å±•ç¤º -->
			<view class="yacht" style="background-color:#61d7f3;width:720rpx;height: 760rpx;margin: 20rpx auto;border-radius: 20rpx;border: 0.01rpx solid #61d7f3;">
				<view v-for="item in active" :key="item.id" style="position: relative; display: flex;align-items: center;justify-content: space-between;background-color: white;width: 670rpx;height: 230rpx;margin: 20rpx auto;border-radius: 20rpx;">
				<!-- å›¾ç‰‡ -->
				<image :src="`https://dpyt.cjpco.cn/${item.product_img}`"  mode="scaleToFill" style="width: 200rpx;height: 165rpx;margin-left: 10rpx;border-radius: 20rpx;"/>
						<!-- å³è¾¹æ–‡å­—æè¿° -->
						<view style="width: 440rpx;height: 170rpx;">
							<view style="font-weight: bold;font-size: 40rpx;">{{item.name}}</view>
							<view style="font-size: 25rpx;">{{item.describe}}</view>
							<view>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
								<span style="border: 1px solid gray;font-size: 25rpx;padding: 5rpx;">æ— è´­ç‰©</span>
							</view>
							<view style="color: red;">ï¿¥{{item.price}} <span style="font-size: 25rpx;">èµ·</span></view>
						</view>
						<view style="position: absolute;bottom: 20rpx;right: 30rpx;border: 1px solid red;padding: 10rpx;border-radius: 20rpx;background-color: #fe5633;color: white;">æŠ¢è´­</view>
				</view>
				
			</view>
		</view>
	</view>
</template>

<script>
import { getActivitiesTwo } from '@/api/index'
export default {
	data() {
		return {
			floorImage: '',//åº•éƒ¨èƒŒæ™¯å›¾
			OneActivity:[],//å•ç¨‹æ´»åŠ¨æ•°æ®,
			yacht:[],//æ¸¸è‰‡çš„æ•°æ®
			base:[],//åŸºåœ°çš„æ•°æ®
			companion:[],//æµ·å¤–çš„æ•°æ®
			active:[],//æ´»åŠ¨
			title:''
		}
	},
	methods: {
		back() {
			uni.navigateBack({
				delta: 1
			})
		},
		open() {
			this.$refs.popup.open('bottom');
		},
		change(e) {
			console.log('å¼¹çª—çŠ¶æ€æ”¹å˜ï¼š', e);
		},
		close() {
			this.$refs.popup.close();
		},
		getActivitiesData(){
			getActivitiesTwo().then(res => {
				console.log("ğŸš€ ~ getActivitiesTwo ~ res é¦–é¡µè½®æ’­å›¾1:", res)
				if(res.code==1){
				this.OneActivity=res.data.product_helicopter
				console.log("å•ç¨‹æ´»åŠ¨æ•°æ®:", this.OneActivity)
				this.yacht=res.data.product_type[0].product
				console.log("æ¸¸è‰‡çš„æ•°æ®", this.yacht)
				this.base=res.data.product_type[6].product
				console.log("åŸºåœ°çš„æ•°æ®", this.base)
				this.companion=res.data.product_type[8].product[0]
				console.log("æµ·å¤–çš„æ•°æ®", this.companion)
				this.active=res.data.product_type[11].product
				console.log("æ´»åŠ¨çš„æ•°æ®", this.active)

				}
				
			})
		}
	},
	onLoad(e) {
		//ç”¨æˆ·åœ¨é¦–é¡µç‚¹å‡»è½®æ’­ ä¼ å…¥è¿‡æ¥çš„item ä»è¿™è¾¹æ¥æ”¶
		console.log("ğŸš€ ~ onLoad ~ e:", e)
		let newObj = JSON.parse(decodeURIComponent(e.obj)) //decodeURIComponent å‰é¢ç”¨äº†${encodeURIComponent(obj)} éœ€è¦è½¬æ¢ä¸€æ¬¡
		// let newObj=JSON.parse(options.obj)
		console.log('è½¬åŒ–åçš„newObj', newObj);
		this.title = newObj.title
		this.floorImage = 'https://dpyt.cjpco.cn/' + newObj.picurl
		console.log("ğŸš€ ~ onLoad ~  this.floorImage:", this.floorImage)
		this.getActivitiesData()

	},
}
</script>

<style lang="scss">
.floorImage {
	width: 750rpx;
	height: 400rpx;
	background-repeat: no-repeat;
	background-size: 750rpx 430rpx;
	background-position: center;
	position: relative;
	border: 0.1rpx solid;

	.activeRule {
		width: 75rpx;
		height: 143rpx;
		background-color: #f9d492;
		position: absolute;
		top: 150rpx;
		right: 0rpx;
		border-radius: 10px 0 0 10px;
		font-size: 32rpx;
		text-align: center;
		color: white;
		line-height: 37rpx;
		list-style: none;

	}
}
</style>